"use strict";angular.module("leftBehind",[]),angular.module("leftBehind").directive("leftBehind",function(){return{restrict:"AC",scope:!1,link:function(a,b,c){var d,e,f,g,h,i,j,k,l=!1;h=angular.element(window),i=angular.element(document.body),k=angular.isDefined(c.lbSticky)||!1,a.$watch(function(){p(),s()});var m=function(a){var b=0;if(angular.isDefined(c[a])){var d=function(a){return"string"==typeof c[a]?parseInt(c[a].replace(/px;?/,""))||0:0};switch(a){case"lbLeaveAfter":l=!0,b=d(a);break;default:b=d(a)}}return b};e=m("lbLeaveAfter"),d=m("lbLeaveBefore"),f=c.leftBehind||"",g=c.lbBodyClass||"";var n=function(){var a;return a=h[0].scrollY,a+=l?j.bottom+e:j.top-d,k&&(a=l?j.lastBottom+e:j.lastTop-d),a},o=function(){return h[0].scrollY>=n()},p=function(){j=b[0].getBoundingClientRect(),j.lastTop=h[0].scrollY+j.top,j.lastBottom=h[0].scrollY+j.bottom},q=function(){i.addClass(g),b.addClass(f)},r=function(){i.removeClass(g),b.removeClass(f)},s=function(){o()?q():r()},t=function(){k||p(),s()},u=function(){r(),p(),s()},v=function(){r(),h.off("scroll",t),h.off("resize",u)};h.bind("scroll",t),h.bind("resize",u),a.$on("$destroy",v)}}});